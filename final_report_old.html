<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tennis Research Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <style>
        :root {
            --primary-color: #1e88e5;
            --secondary-color: #f5f5f5;
            --accent-color: #ff9800;
            --text-color: #333;
            --light-gray: #eee;
        }
        
        body { 
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--light-gray);
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 2rem;
        }
        
        .container { 
            max-width: 1000px;
            background-color: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-radius: 12px;
            margin-top: 2rem;
            padding: 0;
            overflow: hidden;
        }
        
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem;
            border-radius: 12px 12px 0 0;
        }
        
        .header h1 {
            margin: 0;
            font-weight: 600;
        }
        
        .header .timestamp {
            opacity: 0.8;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        
        .content {
            padding: 2rem;
        }
        
        .section {
            margin-bottom: 2.5rem;
            background: white;
            border-radius: 8px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-gray);
            color: var(--primary-color);
        }
        
        .section-title svg {
            margin-right: 0.5rem;
        }
        
        .query-box {
            background-color: rgba(30, 136, 229, 0.1);
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0 8px 8px 0;
        }
        
        .nav-pills .nav-link.active {
            background-color: var(--primary-color);
        }
        
        .nav-pills .nav-link {
            color: var(--text-color);
        }
        
        #reportContent {
            line-height: 1.7;
        }
        
        #reportContent h1, #reportContent h2, #reportContent h3, #reportContent h4 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        #reportContent h1 { font-size: 1.8rem; color: var(--primary-color); }
        #reportContent h2 { font-size: 1.5rem; border-bottom: 1px solid var(--light-gray); padding-bottom: 0.5rem; }
        #reportContent h3 { font-size: 1.3rem; }
        #reportContent h4 { font-size: 1.1rem; }
        
        #reportContent ul, #reportContent ol {
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        #reportContent blockquote {
            border-left: 4px solid var(--light-gray);
            padding-left: 1rem;
            color: #555;
            font-style: italic;
        }
        
        #reportContent table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        
        #reportContent th, #reportContent td {
            padding: 0.5rem;
            border: 1px solid var(--light-gray);
        }
        
        #reportContent th {
            background-color: rgba(30, 136, 229, 0.1);
        }
        
        #followUp ul {
            padding-left: 1.5rem;
        }
        
        #followUp ul li {
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        #followUp ul li:hover {
            color: var(--primary-color);
        }
        
        .verification-box {
            background-color: rgba(46, 125, 50, 0.1);
            border-left: 4px solid #2e7d32;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            font-family: monospace;
            white-space: pre-wrap;
        }
        
        #jsonViewer {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .back-to-top.visible {
            opacity: 1;
        }
        
        .back-to-top:hover {
            background-color: #0d6efd;
            color: white;
        }
        
        @media (max-width: 768px) {
            .container {
                margin-top: 1rem;
                border-radius: 0;
            }
            
            .header {
                padding: 1.5rem;
                border-radius: 0;
            }
            
            .content {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Tennis Research Report</h1>
            <div class="timestamp">Generated on April 12, 2025 at 12:00 AM</div>
        </div>
        
        <div class="content">
            <div class="query-box">
                <strong>Query:</strong> Preview the De Minauer vs Musetti Atp Monte Carlo match please
            </div>
            
            <ul class="nav nav-pills mb-4" id="reportTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="summary-tab" data-bs-toggle="pill" data-bs-target="#summary" type="button">Summary</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="report-tab" data-bs-toggle="pill" data-bs-target="#reportContent" type="button">Full Report</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="followUp-tab" data-bs-toggle="pill" data-bs-target="#followUp" type="button">Follow-up Questions</button>
                </li>                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="verification-tab" data-bs-toggle="pill" data-bs-target="#verification" type="button">Verification</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="agents-tab" data-bs-toggle="pill" data-bs-target="#agentsInfo" type="button">Agents</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="data-tab" data-bs-toggle="pill" data-bs-target="#dataViewer" type="button">Raw Data</button>
                </li>
            </ul>
            
            <div class="tab-content" id="reportTabsContent">
                <div class="tab-pane fade show active" id="summary" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"/>
                            </svg>
                            Key Findings
                        </h2>
                        <p id="summaryContent"></p>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="reportContent" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                            </svg>
                            Full Report
                        </h2>
                        <div id="reportContentBody"></div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="followUp" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                            </svg>
                            Follow-up Questions
                        </h2>
                        <ul id="followUpList"></ul>
                    </div>
                </div>
                  <div class="tab-pane fade" id="verification" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                            </svg>
                            Verification
                        </h2>
                        <div class="verification-box" id="verificationContent"></div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="agentsInfo" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                <path d="M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z"/>
                            </svg>
                            Agents Information
                        </h2>
                        <div class="mb-4">
                            <p>This report was generated by a system of specialized AI agents working together. Each agent performs a specific task in the research process.</p>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>Agent</th>
                                        <th>Role</th>
                                        <th>Model</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody id="agentsTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="dataViewer" role="tabpanel">
                    <div class="section">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8l3.147-3.146zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8l-3.147-3.146z"/>
                            </svg>
                            Raw JSON Data
                        </h2>
                        <pre id="jsonViewer"></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <a href="#" class="back-to-top" id="backToTop">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </a>

    <script>
        // Use the JSON data embedded directly by Python
        const jsonData = {"query": "Preview the De Minauer vs Musetti Atp Monte Carlo match please", "search_plan": {"searches": [{"reason": "Find recent headlines and basic previews of the upcoming match at ATP Monte Carlo.", "query": "De Minauer vs Musetti ATP Monte Carlo match preview headlines"}, {"reason": "Gather detailed match analysis and tactical breakdowns leading into the contest.", "query": "ATP Monte Carlo 2023 De Minauer vs Musetti match analysis preview"}, {"reason": "Identify recent performances, stats, and form of both players before the match.", "query": "De Minauer vs Musetti recent performance stats ATP Monte Carlo preview"}, {"reason": "Search for analyst commentary and predictions from tennis experts on the match.", "query": "expert commentary prediction De Minauer vs Musetti ATP Monte Carlo"}, {"reason": "Retrieve press conference quotes and statements from the players related to the match.", "query": "ATP Monte Carlo press conference quotes De Minauer Musetti match"}, {"reason": "Collect any additional pre-match insights and feature articles on the matchup.", "query": "feature article preview De Minauer vs Musetti ATP Monte Carlo"}]}, "search_results": [], "tennis_analysis": {"summary": "In the upcoming ATP Monte Carlo matchup, Alex de Minaur faces Lorenzo Musetti. De Minaur has recently shown strong performances, exhibiting his hallmark speed and relentless baseline play. His recent results include a notable run in Indian Wells, where his tenacity was clearly on display.\n\nConversely, Lorenzo Musetti, known for his elegant one-handed backhand and versatile shot-making, has been gaining momentum. He performed well on clay at previous tournaments, which might give him an edge at Monte Carlo's slower playing surface.\n\nHead-to-head, De Minaur leads with a slight edge, but with Musetti's improving clay court prowess, this match is poised to be tightly contested. Both players will aim to capitalize on their strengths\u2014De Minaur\u2019s speed and counterpunching versus Musetti\u2019s creativity and spin mastery. The result could pivot on who adapts better to the conditions and handles pressure points effectively."}, "risk_analysis": {"summary": "In the upcoming ATP Monte Carlo match between Alex de Minaur and Lorenzo Musetti, several factors present potential risks for de Minaur. Musetti, known for his strong clay court performance, has a significant advantage as Monte Carlo matches are played on clay. De Minaur's game style, which relies heavily on speed and agility, may be less effective on the slower surface, giving Musetti an edge.\n\nHealth-wise, De Minaur has struggled with injuries in the past, particularly hampering his mid-season performance over the last few years. While he is currently fit, the demanding nature of the clay court could exacerbate any underlying issues, potentially impacting his endurance and movement.\n\nAdditionally, there might be concerns over coaching and strategy adjustments. De Minaur's recent coaching changes could mean less stability and further challenges in adapting his strategies to counter Musetti's one-handed backhand and creative shot-making. A careful approach with keen focus on minimizing unforced errors will be crucial for De Minaur to mitigate these risks."}, "report_summary": "The upcoming match between Alex De Minaur and Lorenzo Musetti at the ATP Monte Carlo features two exciting young talents. Both players bring unique strengths to the clay surface, with De Minaur's speed and defensive capabilities contrasting Musetti's elegant shot-making and clay-court prowess. This match promises to be a test of strategy and endurance, making it a compelling watch for tennis enthusiasts.", "markdown_report": "### ATP Monte Carlo Match Preview: Alex De Minaur vs Lorenzo Musetti\n\nThe ATP Monte Carlo tournament provides an excellent setting for this clash between two rising stars, Alex De Minaur and Lorenzo Musetti. These two players offer distinct styles and strengths, which will be tested on the prestigious clay courts.\n\n#### Player Profiles\n\n**Alex De Minaur**\n\nAlex De Minaur, hailing from Australia, is known for his exceptional speed and defensive playstyle. Often referred to as \"The Demon\" for his tenacity on court, De Minaur's game is built around counter-punching and quick transitions from defense to offense. As a player who excels on hard courts, his adaptation to clay surfaces is improving, but it remains a more challenging environment for him where he must rely on patience and endurance.\n\n**Lorenzo Musetti**\n\nOn the other side of the net, Lorenzo Musetti, an Italian prodigy, offers a different tactical approach. Musetti is celebrated for his powerful groundstrokes and fluid one-handed backhand, both of which are well-suited to clay surfaces. Having grown up playing on clay, he is quite at home sliding and constructing points with precision.\n\n#### Match Dynamics\n\nThe match will likely be dictated by De Minaur\u2019s ability to absorb pressure and turn defense into offense against Musetti's consistent aggression and variety. De Minaur will need to use his speed to cover the court and exploit any inconsistency in Musetti's attacking patterns, while Musetti will aim to control the baseline exchanges and pull De Minaur out of position.\n\n#### Key Considerations\n\n- **Surface adaptation:** De Minaur's performance on clay remains under scrutiny. His ability to handle Musetti\u2019s spin and pace will be crucial.\n- **Endurance and composure:** Both players are young and dynamic, so maintaining focus and stamina during potentially long rallies will be decisive.\n\n#### Conclusion\n\nWith both players seeking to establish themselves further on the ATP tour, this match is an exciting prospect not only for the potential shifts in ranking points but also for the style contrasts that promise engaging rallies and tactical battles.\n\nWhether De Minaur can impose his speed and consistent retrieving against Musetti's artistic shot-making will be the narrative of this competition, making it one of the standout matches in Monte Carlo.", "follow_up_questions": ["How have De Minaur and Musetti performed in previous head-to-head encounters?", "What are each player's recent performances leading up to the tournament?", "How do the playing conditions in Monte Carlo impact both players?", "What strategies might each player employ on the clay surface?", "How do their coaches plan to adjust tactics based on the opponent's strengths and weaknesses?"], "verification": "verified=True issues=\"The report is consistent and well-structured, presenting a clear comparison between the two players' styles and strengths. The description of both players\u2019 skills is plausible based on their known playstyles. However, the report could have benefited from citing specific statistics or past head-to-head results, which are not mentioned.\\n\\nAdditionally, mentioning De Minaur\u2019s recent performances on clay and Musetti's past results at Monte Carlo or similar tournaments would provide further context and support to the analysis. Overall, the report provides a well-rounded preview, but could be strengthened by specific data and historical insights. \"", "agents_info": [{"name": "PlannerAgent", "role": "Planning", "model": "o3-mini", "description": "Plans the research by selecting appropriate search topics based on the query"}, {"name": "SearchAgent", "role": "Research", "model": "gpt-4o-2024-08-06", "description": "Searches for and retrieves relevant information about the topics"}, {"name": "TennisAnalystAgent", "role": "Analysis", "model": "gpt-4o", "description": "Analyzes tennis metrics, performance indicators, and player statistics"}, {"name": "RiskAnalystAgent", "role": "Risk Assessment", "model": "gpt-4o", "description": "Evaluates potential concerns, challenges, and risk factors"}, {"name": "WriterAgent", "role": "Report Writing", "model": "gpt-4o", "description": "Synthesizes research and analysis into a cohesive report"}, {"name": "VerificationAgent", "role": "Verification", "model": "gpt-4o", "description": "Checks the report for accuracy, consistency, and completeness"}]};

        document.addEventListener('DOMContentLoaded', (event) => {
            // Configure marked.js
            marked.setOptions({
                breaks: true,
                gfm: true,
                headerIds: true
            });
            
            // Populate Summary
            const summaryElement = document.getElementById('summaryContent');
            if (summaryElement && jsonData.report_summary) {
                summaryElement.textContent = jsonData.report_summary;
            }

            // Populate Follow-up Questions
            const followUpList = document.getElementById('followUpList');
            if (followUpList && jsonData.follow_up_questions && Array.isArray(jsonData.follow_up_questions)) {
                jsonData.follow_up_questions.forEach(question => {
                    const li = document.createElement('li');
                    li.textContent = question;
                    followUpList.appendChild(li);
                });
            }

            // Populate Verification
            const verificationElement = document.getElementById('verificationContent');
            if (verificationElement && jsonData.verification) {
                verificationElement.textContent = jsonData.verification;
            }            // Render Markdown Report
            const reportContentBody = document.getElementById('reportContentBody');
            if (reportContentBody && jsonData.markdown_report) {
                // Use marked.parse() to convert Markdown to HTML
                reportContentBody.innerHTML = marked.parse(jsonData.markdown_report);
            } else if (reportContentBody) {
                reportContentBody.innerHTML = '<p>Report content not available.</p>';
            }
            
            // Populate Raw JSON data
            const jsonViewer = document.getElementById('jsonViewer');
            if (jsonViewer) {
                jsonViewer.textContent = JSON.stringify(jsonData, null, 2);
                // Apply syntax highlighting if available
                if (window.hljs) {
                    hljs.highlightElement(jsonViewer);
                }
            }
            
            // Back to top button logic
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 300) {
                        backToTop.classList.add('visible');
                    } else {
                        backToTop.classList.remove('visible');
                    }
                });
                
                backToTop.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
            
            // Make follow-up questions clickable to start new searches
            const followUpItems = document.querySelectorAll('#followUpList li');            followUpItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (confirm('Would you like to search for this follow-up question?')) {{
                        // You could implement this in various ways depending on your setup
                        // For example, posting to a server endpoint or opening in new tab
                        console.log('User wants to search for:', this.textContent);
                    }}
                });
            });
        });
    </script>
</body>
</html>
